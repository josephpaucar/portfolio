<template>
  <div class="top--bar bg-white dark:bg-secondary">
    <div class="logo">
      <svg width="79" class="fill-dark-gray dark:fill-white" height="35" viewBox="0 0 79 35" xmlns="http://www.w3.org/2000/svg">
        <path d="M5.01562 32.2656C5.59375 32.4688 6.21094 32.625 6.86719 32.7344C7.52344 32.8281 8.17188 32.875 8.8125 32.875C9.46875 32.875 10.0938 32.8047 10.6875 32.6641V0.835938H22.6641V21.4844C22.6641 25.5938 21.625 28.7188 19.5469 30.8594C17.2188 33.25 13.5859 34.4453 8.64844 34.4453C5.39844 34.4453 2.92969 33.7031 1.24219 32.2188L0.84375 31.8203C0.28125 31.2266 0.0234375 30.7109 0.0703125 30.2734C0.179688 29.5391 0.507812 29.2031 1.05469 29.2656C1.58594 29.3594 2 29.6641 2.29688 30.1797C2.60938 30.6953 2.99219 31.1172 3.44531 31.4453C3.91406 31.7734 4.4375 32.0469 5.01562 32.2656ZM47.8228 24.2734L49.9088 24.3672C52.94 24.3672 55.44 23.3672 57.4088 21.3672C59.4088 19.3516 60.4556 16.7422 60.5494 13.5391C60.7213 8.60156 58.3463 5.26562 53.4244 3.53125C51.5806 2.875 49.1822 2.54688 46.2291 2.54688H44.2603V34H32.3072V0.835938H41.2838C46.1275 0.835938 49.0494 0.90625 50.0494 1.04688C51.0494 1.1875 52.0884 1.36719 53.1666 1.58594C54.2603 1.80469 55.4322 2.28125 56.6822 3.01562C57.9478 3.75 59.0181 4.625 59.8931 5.64062C61.6588 7.70312 62.5103 10.125 62.4478 12.9062C62.3541 16.4531 61.315 19.4062 59.3306 21.7656C57.315 24.1406 54.5338 25.6094 50.9869 26.1719C49.9556 26.3125 49.1431 26.3828 48.5494 26.3828C47.1431 26.3828 46.44 26 46.44 25.2344C46.44 24.9531 46.565 24.7266 46.815 24.5547C47.065 24.3672 47.4009 24.2734 47.8228 24.2734ZM67.8019 31.4453C67.5675 30.8203 67.4503 30.1641 67.4503 29.4766C67.4503 28.7891 67.5831 28.1641 67.8487 27.6016C68.13 27.0234 68.5206 26.5156 69.0206 26.0781C70.0831 25.125 71.4112 24.6484 73.005 24.6484C74.6456 24.6484 75.9737 25.1875 76.9894 26.2656C77.9269 27.25 78.3956 28.4062 78.3956 29.7344C78.3956 31.0625 77.8644 32.1719 76.8019 33.0625C75.7081 33.9844 74.3956 34.4453 72.8644 34.4453C70.2706 34.4453 68.5831 33.4453 67.8019 31.4453Z" />
      </svg>
      <span>Frontend Dev</span>
    </div>
    <div class="header--actions">
      <button class="transition-all ease-in-out duration-300 hover:rotate-[270deg]" @click="toggleDarkMode()">
        <transition name="fadeMoon">
          <svg v-show="showMoon" width="24" height="24" class="fill-dark-gray stroke-dark-gray dark:fill-white dark:stroke-white" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 21C9.5 21 7.375 20.125 5.625 18.375C3.875 16.625 3 14.5 3 12C3 9.5 3.875 7.375 5.625 5.625C7.375 3.875 9.5 3 12 3C12.2333 3 12.4627 3.00833 12.688 3.025C12.9127 3.04167 13.1333 3.06667 13.35 3.1C12.6667 3.58333 12.121 4.21233 11.713 4.987C11.3043 5.76233 11.1 6.6 11.1 7.5C11.1 9 11.625 10.275 12.675 11.325C13.725 12.375 15 12.9 16.5 12.9C17.4167 12.9 18.2583 12.6957 19.025 12.287C19.7917 11.879 20.4167 11.3333 20.9 10.65C20.9333 10.8667 20.9583 11.0873 20.975 11.312C20.9917 11.5373 21 11.7667 21 12C21 14.5 20.125 16.625 18.375 18.375C16.625 20.125 14.5 21 12 21Z" />
          </svg>
        </transition>
        <transition name="fadeSun">
          <svg v-show="showSun" width="24" height="24" class="fill-dark-gray stroke-dark-gray dark:fill-white dark:stroke-white" viewBox="0 0 24 24"  xmlns="http://www.w3.org/2000/svg">
            <path d="M12 17C10.6167 17 9.43767 16.5123 8.463 15.537C7.48767 14.5623 7 13.3833 7 12C7 10.6167 7.48767 9.43733 8.463 8.462C9.43767 7.48733 10.6167 7 12 7C13.3833 7 14.5627 7.48733 15.538 8.462C16.5127 9.43733 17 10.6167 17 12C17 13.3833 16.5127 14.5623 15.538 15.537C14.5627 16.5123 13.3833 17 12 17ZM2 13C1.71667 13 1.47933 12.904 1.288 12.712C1.096 12.5207 1 12.2833 1 12C1 11.7167 1.096 11.479 1.288 11.287C1.47933 11.0957 1.71667 11 2 11H4C4.28333 11 4.521 11.0957 4.713 11.287C4.90433 11.479 5 11.7167 5 12C5 12.2833 4.90433 12.5207 4.713 12.712C4.521 12.904 4.28333 13 4 13H2ZM20 13C19.7167 13 19.4793 12.904 19.288 12.712C19.096 12.5207 19 12.2833 19 12C19 11.7167 19.096 11.479 19.288 11.287C19.4793 11.0957 19.7167 11 20 11H22C22.2833 11 22.5207 11.0957 22.712 11.287C22.904 11.479 23 11.7167 23 12C23 12.2833 22.904 12.5207 22.712 12.712C22.5207 12.904 22.2833 13 22 13H20ZM12 5C11.7167 5 11.4793 4.904 11.288 4.712C11.096 4.52067 11 4.28333 11 4V2C11 1.71667 11.096 1.479 11.288 1.287C11.4793 1.09567 11.7167 1 12 1C12.2833 1 12.521 1.09567 12.713 1.287C12.9043 1.479 13 1.71667 13 2V4C13 4.28333 12.9043 4.52067 12.713 4.712C12.521 4.904 12.2833 5 12 5ZM12 23C11.7167 23 11.4793 22.904 11.288 22.712C11.096 22.5207 11 22.2833 11 22V20C11 19.7167 11.096 19.4793 11.288 19.288C11.4793 19.096 11.7167 19 12 19C12.2833 19 12.521 19.096 12.713 19.288C12.9043 19.4793 13 19.7167 13 20V22C13 22.2833 12.9043 22.5207 12.713 22.712C12.521 22.904 12.2833 23 12 23ZM5.65 7.05L4.575 6C4.375 5.81667 4.279 5.58333 4.287 5.3C4.29567 5.01667 4.39167 4.775 4.575 4.575C4.775 4.375 5.01667 4.275 5.3 4.275C5.58333 4.275 5.81667 4.375 6 4.575L7.05 5.65C7.23333 5.85 7.325 6.08333 7.325 6.35C7.325 6.61667 7.23333 6.85 7.05 7.05C6.86667 7.25 6.63767 7.34567 6.363 7.337C6.08767 7.329 5.85 7.23333 5.65 7.05V7.05ZM18 19.425L16.95 18.35C16.7667 18.15 16.675 17.9127 16.675 17.638C16.675 17.3627 16.7667 17.1333 16.95 16.95C17.1333 16.75 17.3627 16.6543 17.638 16.663C17.9127 16.671 18.15 16.7667 18.35 16.95L19.425 18C19.625 18.1833 19.721 18.4167 19.713 18.7C19.7043 18.9833 19.6083 19.225 19.425 19.425C19.225 19.625 18.9833 19.725 18.7 19.725C18.4167 19.725 18.1833 19.625 18 19.425ZM16.95 7.05C16.75 6.86667 16.6543 6.63733 16.663 6.362C16.671 6.08733 16.7667 5.85 16.95 5.65L18 4.575C18.1833 4.375 18.4167 4.279 18.7 4.287C18.9833 4.29567 19.225 4.39167 19.425 4.575C19.625 4.775 19.725 5.01667 19.725 5.3C19.725 5.58333 19.625 5.81667 19.425 6L18.35 7.05C18.15 7.23333 17.9167 7.325 17.65 7.325C17.3833 7.325 17.15 7.23333 16.95 7.05V7.05ZM4.575 19.425C4.375 19.225 4.275 18.9833 4.275 18.7C4.275 18.4167 4.375 18.1833 4.575 18L5.65 16.95C5.85 16.7667 6.08767 16.675 6.363 16.675C6.63767 16.675 6.86667 16.7667 7.05 16.95C7.25 17.1333 7.346 17.3627 7.338 17.638C7.32933 17.9127 7.23333 18.15 7.05 18.35L6 19.425C5.81667 19.625 5.58333 19.7207 5.3 19.712C5.01667 19.704 4.775 19.6083 4.575 19.425Z" />
          </svg>
        </transition>
        
      </button>
      <button class="md:hidden" @click="toggleMenu()">
        <svg width="24" class="stroke-dark-gray dark:stroke-white" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 5H19" stroke-width="2" stroke-linecap="round"/>
          <path d="M5 12H19" stroke-width="2" stroke-linecap="round"/>
          <path d="M5 19H19" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
      
      <nav class="hidden md:block">
        <ul class="menu--links">
          <li>
            <a href="/">About</a>
          </li>
          <li>
            <a href="/">Project</a>
          </li>
          <li>
            <a href="/">Contact</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <transition name="fade">
    <nav v-show="showMenu" class="mobile--menu">
      <ul class="mobile--menu__links">
        <li>
          <a href="/">About</a>
        </li>
        <li>
          <a href="/">Project</a>
        </li>
        <li>
          <a href="/">Contact</a>
        </li>
      </ul>
      <p class="mobile--menu__email">
        <a href="/">mailme@josephpaucar.dev</a>
      </p>
      <ul class="mobile--menu__socials">
        <li class="group block">
          <a href="/">
            <svg class="fill-dark-gray dark:fill-light-white group-hover:fill-primary transition duration-300 ease-out hover:ease-in" width="40" height="41" viewBox="0 0 40 41" xmlns="http://www.w3.org/2000/svg">
              <path d="M20.0002 4.32947C17.8115 4.32947 15.6442 4.76056 13.6221 5.59814C11.6 6.43572 9.76269 7.66338 8.21505 9.21102C5.08944 12.3366 3.3335 16.5759 3.3335 20.9961C3.3335 28.3628 8.11683 34.6128 14.7335 36.8295C15.5668 36.9628 15.8335 36.4461 15.8335 35.9961V33.1795C11.2168 34.1795 10.2335 30.9461 10.2335 30.9461C9.46683 29.0128 8.3835 28.4961 8.3835 28.4961C6.86683 27.4628 8.50016 27.4961 8.50016 27.4961C10.1668 27.6128 11.0502 29.2128 11.0502 29.2128C12.5002 31.7461 14.9502 30.9961 15.9002 30.5961C16.0502 29.5128 16.4835 28.7795 16.9502 28.3628C13.2502 27.9461 9.36683 26.5128 9.36683 20.1628C9.36683 18.3128 10.0002 16.8295 11.0835 15.6461C10.9168 15.2295 10.3335 13.4961 11.2502 11.2461C11.2502 11.2461 12.6502 10.7961 15.8335 12.9461C17.1502 12.5795 18.5835 12.3961 20.0002 12.3961C21.4168 12.3961 22.8502 12.5795 24.1668 12.9461C27.3502 10.7961 28.7502 11.2461 28.7502 11.2461C29.6668 13.4961 29.0835 15.2295 28.9168 15.6461C30.0002 16.8295 30.6335 18.3128 30.6335 20.1628C30.6335 26.5295 26.7335 27.9295 23.0168 28.3461C23.6168 28.8628 24.1668 29.8795 24.1668 31.4295V35.9961C24.1668 36.4461 24.4335 36.9795 25.2835 36.8295C31.9002 34.5961 36.6668 28.3628 36.6668 20.9961C36.6668 18.8074 36.2357 16.6402 35.3982 14.6181C34.5606 12.596 33.3329 10.7587 31.7853 9.21102C30.2376 7.66338 28.4003 6.43572 26.3782 5.59814C24.3561 4.76056 22.1889 4.32947 20.0002 4.32947Z"/>
            </svg>
          </a>
        </li>
        <li class="group block">
          <a href="/">
            <svg class="fill-dark-gray dark:fill-light-white group-hover:fill-primary transition duration-300 ease-out hover:ease-in" width="40" height="41" viewBox="0 0 40 41" xmlns="http://www.w3.org/2000/svg">
              <path d="M31.6667 5.99609C32.5507 5.99609 33.3986 6.34728 34.0237 6.9724C34.6488 7.59753 35 8.44537 35 9.32943V32.6628C35 33.5468 34.6488 34.3947 34.0237 35.0198C33.3986 35.6449 32.5507 35.9961 31.6667 35.9961H8.33333C7.44928 35.9961 6.60143 35.6449 5.97631 35.0198C5.35119 34.3947 5 33.5468 5 32.6628V9.32943C5 8.44537 5.35119 7.59753 5.97631 6.9724C6.60143 6.34728 7.44928 5.99609 8.33333 5.99609H31.6667ZM30.8333 31.8294V22.9961C30.8333 21.5551 30.2609 20.1731 29.2419 19.1541C28.223 18.1352 26.841 17.5628 25.4 17.5628C23.9833 17.5628 22.3333 18.4294 21.5333 19.7294V17.8794H16.8833V31.8294H21.5333V23.6128C21.5333 22.3294 22.5667 21.2794 23.85 21.2794C24.4688 21.2794 25.0623 21.5253 25.4999 21.9628C25.9375 22.4004 26.1833 22.9939 26.1833 23.6128V31.8294H30.8333ZM11.4667 15.2628C12.2093 15.2628 12.9215 14.9678 13.4466 14.4427C13.9717 13.9176 14.2667 13.2054 14.2667 12.4628C14.2667 10.9128 13.0167 9.64609 11.4667 9.64609C10.7196 9.64609 10.0032 9.94285 9.47498 10.4711C8.94675 10.9993 8.65 11.7157 8.65 12.4628C8.65 14.0128 9.91667 15.2628 11.4667 15.2628ZM13.7833 31.8294V17.8794H9.16667V31.8294H13.7833Z" />
            </svg>
          </a>
        </li>
        <li class="group block">
          <a href="/">
            <svg class="fill-dark-gray dark:fill-light-white group-hover:fill-primary transition duration-300 ease-out hover:ease-in" width="40" height="41" viewBox="0 0 40 41" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.0002 4.32947H27.0002C32.3335 4.32947 36.6668 8.6628 36.6668 13.9961V27.9961C36.6668 30.5599 35.6484 33.0186 33.8355 34.8315C32.0227 36.6444 29.5639 37.6628 27.0002 37.6628H13.0002C7.66683 37.6628 3.3335 33.3295 3.3335 27.9961V13.9961C3.3335 11.4324 4.35195 8.97362 6.1648 7.16077C7.97765 5.34792 10.4364 4.32947 13.0002 4.32947ZM12.6668 7.6628C11.0755 7.6628 9.54941 8.29494 8.42419 9.42016C7.29897 10.5454 6.66683 12.0715 6.66683 13.6628V28.3295C6.66683 31.6461 9.35016 34.3295 12.6668 34.3295H27.3335C28.9248 34.3295 30.4509 33.6973 31.5761 32.5721C32.7014 31.4469 33.3335 29.9208 33.3335 28.3295V13.6628C33.3335 10.3461 30.6502 7.6628 27.3335 7.6628H12.6668ZM28.7502 10.1628C29.3027 10.1628 29.8326 10.3823 30.2233 10.773C30.614 11.1637 30.8335 11.6936 30.8335 12.2461C30.8335 12.7987 30.614 13.3286 30.2233 13.7193C29.8326 14.11 29.3027 14.3295 28.7502 14.3295C28.1976 14.3295 27.6677 14.11 27.277 13.7193C26.8863 13.3286 26.6668 12.7987 26.6668 12.2461C26.6668 11.6936 26.8863 11.1637 27.277 10.773C27.6677 10.3823 28.1976 10.1628 28.7502 10.1628ZM20.0002 12.6628C22.2103 12.6628 24.3299 13.5408 25.8927 15.1036C27.4555 16.6664 28.3335 18.786 28.3335 20.9961C28.3335 23.2063 27.4555 25.3259 25.8927 26.8887C24.3299 28.4515 22.2103 29.3295 20.0002 29.3295C17.79 29.3295 15.6704 28.4515 14.1076 26.8887C12.5448 25.3259 11.6668 23.2063 11.6668 20.9961C11.6668 18.786 12.5448 16.6664 14.1076 15.1036C15.6704 13.5408 17.79 12.6628 20.0002 12.6628ZM20.0002 15.9961C18.6741 15.9961 17.4023 16.5229 16.4646 17.4606C15.5269 18.3983 15.0002 19.6701 15.0002 20.9961C15.0002 22.3222 15.5269 23.594 16.4646 24.5317C17.4023 25.4694 18.6741 25.9961 20.0002 25.9961C21.3262 25.9961 22.598 25.4694 23.5357 24.5317C24.4734 23.594 25.0002 22.3222 25.0002 20.9961C25.0002 19.6701 24.4734 18.3983 23.5357 17.4606C22.598 16.5229 21.3262 15.9961 20.0002 15.9961Z"/>
            </svg>
          </a>
        </li>
      </ul>
    </nav>
  </transition>
  
</template>

<script setup>
  const showMenu = ref(false);
  const isDark = ref(false);
  const showMoon = ref(true);
  const showSun = ref(false);

  const toggleMenu = () => {
    if(showMenu.value) {
      showMenu.value = false;
      return;
    }

    showMenu.value = true;
  }

  const toggleDarkMode = () => {
    if(isDark.value) {
      isDark.value = false;
      showSun.value = false;
      showMoon.value = true;
      return;
    }

    isDark.value = true;
    showSun.value = true;
    showMoon.value = false;
  }
  
  useHead({
    htmlAttrs: {
      class: computed(() => {
        if (isDark.value) return 'dark';
        return '';
      })
    },
    bodyAttrs: {
      class: computed(() => {
        if (isDark.value) return 'dark:bg-secondary';
        return 'bg-white';
      })
    }
  })
</script>

<style scoped lang="scss">
.top--bar {
  @apply container flex justify-between;

  .logo {
    svg {
      @apply md:w-[82px] md:h-[50px];
    }
    span {
      @apply font-Nunito text-sm md:text-base tracking-wide text-secondary dark:text-light-white;
    }
  }
  .header--actions {
    @apply flex items-center;

    button {
      @apply ml-4;

      svg {
        @apply w-[26px] h-[26px];
      }
    }

    nav {
      @apply w-full;

      .menu--links {
        @apply flex;

        li {
          @apply ml-5 lg:ml-8 font-Nunito text-secondary dark:text-white uppercase font-bold tracking-wider;

          a {
            @apply relative hover:before:w-full;

            &:before {
              content: '';
              @apply bg-primary block absolute bottom-[-2px] left-0 w-0 h-[2px] transition-all ease-out duration-300;
            }
          }
        }
      }
    }
  }
}

.mobile--menu {
  @apply bg-white dark:bg-secondary flex flex-col items-center justify-center z-20 md:hidden;
  height: calc(100vh - 75px);

  .mobile--menu__links,
  .mobile--menu__email {
    @apply text-center font-Nunito text-base uppercase font-bold tracking-wider text-secondary dark:text-white;
    
    li {
      @apply mb-[30px];
      
      a {
        @apply relative hover:before:w-full;

        &:before {
          content: '';
          @apply bg-primary block absolute bottom-[-3px] left-0 w-0 h-[2px] transition-all ease-out duration-300;
        }
      }
    }
  }
  .mobile--menu__email {
    @apply mt-[40px] mb-[25px] lowercase;

    a {
      @apply hover:text-primary transition duration-300 ease-out hover:ease-in;
    }
  }
  .mobile--menu__socials {
    @apply flex mb-5;
    
    li {
      @apply mx-4;
    }
  }
}

.fade-enter-from, .fadeMoon-enter-from, .fadeSun-enter-from{
  opacity: 0;
}
.fade-enter-active, .fade-leave-active {
  transition: opacity 0.7s ease-in-out;
}
.fade-leave-to, .fadeMoon-leave-to, .fadeSun-leave-to {
  opacity: 0;
}
.fadeMoon-enter-active, .fadeSun-enter-active {
  transition: opacity 0.7s ease-in-out;
}


</style>